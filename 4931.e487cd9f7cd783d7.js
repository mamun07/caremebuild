"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[4931],{94931:(b,z,a)=>{a.r(z),a.d(z,{CustomerProfileModule:()=>X});var p=a(90898),g=a(69808),O=a(31913),e=a(5e3),m=a(3294),_=a(5944),T=a(73071),i=a(52317),o=a(68132),l=a(8338),r=a(49727),u=a(99826),c=a(93075),C=a(63640),P=a(14573),x=a(76042),S=a(82683),q=a(92643),U=a(64219),E=a(24401),y=a(78054),v=a(50939),I=a(41894),R=a(98706),D=a(77484),N=a(6462);function B(d,f){if(1&d&&(e.TgZ(0,"li",50)(1,"div",51)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"h5",36),e._uU(5,"Active"),e.qZA()(),e.TgZ(6,"div",52)(7,"h4"),e._uU(8),e.qZA()()()),2&d){const s=f.$implicit;e.xp6(3),e.Oqu(s.fullName),e.xp6(5),e.hij("",null!=s&&s.checkouts?s.checkouts.length:"0"," Order")}}function L(d,f){if(1&d){const s=e.EpF();e.TgZ(0,"nz-switch",53),e.NdJ("ngModelChange",function(h){e.CHM(s);const t=e.oxw();return e.KtG(t.updateCustomerStatus(h))})("ngModelChange",function(h){e.CHM(s);const t=e.oxw();return e.KtG(t.user.status=h)}),e.qZA()}if(2&d){const s=e.oxw();e.Q6J("ngModel",s.user.status)}}function V(d,f){if(1&d&&e._UZ(0,"nz-option",56),2&d){const s=f.$implicit;e.Q6J("nzValue",s)("nzLabel",s.tagname)}}function w(d,f){if(1&d){const s=e.EpF();e.TgZ(0,"nz-select",54),e.NdJ("ngModelChange",function(h){e.CHM(s);const t=e.oxw();return e.KtG(t.updateUserCustomTag(h))})("ngModelChange",function(h){e.CHM(s);const t=e.oxw();return e.KtG(t.user.customTag=h)}),e.YNc(1,V,1,2,"nz-option",55),e.qZA()}if(2&d){const s=e.oxw();e.Q6J("ngModel",s.user.customTag),e.xp6(1),e.Q6J("ngForOf",s.customTags)}}function k(d,f){1&d&&(e.TgZ(0,"a"),e._uU(1,"Edit"),e.qZA())}const A=function(){return{span:24}},M=function(){return{span:12}};function J(d,f){if(1&d&&(e.TgZ(0,"div",14)(1,"nz-card",57)(2,"table",58)(3,"tr")(4,"th",59),e._uU(5,"Name"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA()(),e.TgZ(8,"tr")(9,"th",59),e._uU(10,"Phone"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()(),e.TgZ(13,"tr")(14,"th",59),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA()(),e.TgZ(18,"tr")(19,"th",59),e._uU(20,"Address"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()()()(),e.YNc(23,k,2,0,"ng-template",null,60,e.W1O),e.qZA()),2&d){const s=f.$implicit,n=e.MAs(24);e.Q6J("nzXs",e.DdM(11,A))("nzLg",e.DdM(12,M)),e.xp6(1),e.MGl("nzTitle","",s.addressType," Address"),e.Q6J("nzExtra",n),e.xp6(6),e.Oqu(null==s?null:s.name),e.xp6(5),e.Oqu(null==s?null:s.phone),e.xp6(5),e.Oqu(null==s?null:s.email),e.xp6(5),e.HOy("",null==s?null:s.address,", ",null==s?null:s.thana.name,", ",null==s?null:s.city.name,", ",null==s?null:s.zila.name,", Bangladesh")}}function F(d,f){1&d&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2,"Content one"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Content two"),e.qZA(),e.BQk())}function Q(d,f){1&d&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2,"Content one"),e.qZA(),e.TgZ(3,"p"),e._uU(4,"Content two"),e.qZA(),e.BQk())}const G=function(){return{span:5}},j=function(){return{span:13}},Z=function(){return{span:6}},Y=[{path:":id",component:(()=>{class d{constructor(s,n,h,t,$,ee,te,ne){this.tagService=s,this.userDataService=n,this.userService=h,this.customTagService=t,this.orderService=$,this.returnService=ee,this.msg=te,this.activatedRoute=ne,this.users=[],this.customTags=[],this.tags=[],this.orders=[],this.smsVisible=!1,this.createOrder=!1,this.returnAccepted=0,this.returnPending=0,this.status=1,this.customerHistory=[{name:"Timeline",disabled:!1},{name:"Order",disabled:!1},{name:"Return",disabled:!1},{name:"Refund",disabled:!1}]}ngOnInit(){this.subRouteOne=this.activatedRoute.paramMap.subscribe(s=>{this.id=s.get("id"),this.id&&this.getUserInfo(this.id)}),this.getAllUsers()}getAllUsers(){this.userDataService.getCustomerLists().subscribe(s=>{this.users=s.data},s=>{console.log(s.message)})}getAllCustomTags(){this.customTagService.getAllTags().subscribe(s=>{this.customTags=s.data},s=>{console.log(s.message)})}updateUserCustomTag(s){console.log(s),this.userService.updateTag(this.id,s).subscribe(n=>{this.msg.success(n.message)},n=>{this.msg.error(n.message)})}updateCustomerStatus(s){console.log(s),this.status=!0===s?1:0,this.userService.updateStatus(this.id,this.status).subscribe(n=>{this.msg.success(n.message)},n=>{this.msg.error(n.message)})}getAllTags(){this.tagService.getAllTags().subscribe(s=>{this.tags=s.data,this.setTag(this.user._id,this.tags)},s=>{this.msg.error(s.message)})}getUserInfo(s){this.userDataService.getUserByUserID(s).subscribe(n=>{this.getAllCustomTags(),this.user=n.data,this.getAllAddress(),this.setReturnPercentage(this.user),this.getAllOrder(this.user._id)},n=>{this.msg.error(n.message)})}getAllOrder(s){this.orderService.getAllOrdersByUserId(s).subscribe(n=>{this.orders=n.data,this.setOrderData(this.orders),this.getReturnPercentage(),this.getAllTags()},n=>{this.msg.error(n.message)})}setReturnPercentage(s){s?this.returnService.getReturnByUserId(s._id).subscribe(n=>{this.totalReturn=n.data,this.setTotalReturnItem(this.totalReturn)},n=>{console.log(n.message)}):(this.totalReturn=[],this.setTotalReturnItem(this.totalReturn))}setTotalReturnItem(s){this.totalReturnByUser=0;for(let n=0;n<s.length;n++)this.totalReturnByUser+=s[n].products.length;this.getReturnPercentage()}getReturnPercentage(){this.returnPercent=Math.round((this.totalReturnByUser?this.totalReturnByUser:0)/(this.totalOrders?this.totalOrders:0)*100)}setOrderData(s){this.totalOrders=0,this.totalOrderValue=0,this.totalPendingItems=0,this.totalCanceledItems=0,this.totalConfirmedItems=0;for(let n=0;n<s.length;n++){this.totalOrders+=s[n].orderedItems.length,this.totalOrderValue+=s[n].totalAmount;for(let h=0;h<this.orders[n].orderedItems.length;h++)this.orders[n].orderedItems[h].deliveryStatus===O.i.PENDING?this.totalPendingItems+=1:this.orders[n].orderedItems[h].deliveryStatus===O.i.CANCEL?this.totalCanceledItems+=1:(this.orders[n].orderedItems[h].deliveryStatus===O.i.CONFIRM||this.orders[n].orderedItems[h].deliveryStatus===O.i.SHIPPING)&&(this.totalConfirmedItems+=1)}}setTag(s,n){for(let h=0;h<n.length;h++){let t=n[h];if(1===t.totalorderCondition&&1===t.ordervalueCondition&&1===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&1===t.ordervalueCondition&&1===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&1===t.ordervalueCondition&&2===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&2===t.ordervalueCondition&&1===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&1===t.ordervalueCondition&&1===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&1===t.ordervalueCondition&&2===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&2===t.ordervalueCondition&&1===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&2===t.ordervalueCondition&&2===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&1===t.ordervalueCondition&&2===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&2===t.ordervalueCondition&&1===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&1===t.ordervalueCondition&&1===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(1===t.totalorderCondition&&2===t.ordervalueCondition&&2===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders>=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&1===t.ordervalueCondition&&2===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue>=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&2===t.ordervalueCondition&&1===t.cancelCondition&&2===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems>=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&2===t.ordervalueCondition&&2===t.cancelCondition&&1===t.returnCondition){if(this.totalOrders<=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent>=t.return)){this.assignedTag=t.tagname;break}}else if(2===t.totalorderCondition&&2===t.ordervalueCondition&&2===t.cancelCondition&&2===t.returnCondition&&this.totalOrders<=t.totalorder&&this.totalOrderValue<=t.ordervalue&&(this.totalCanceledItems<=t.cancel||this.returnPercent<=t.return)){this.assignedTag=t.tagname;break}}}showSmsModal(){this.smsVisible=!0}smsOk(){console.log("Button ok clicked!"),this.smsVisible=!1}smsCancel(){console.log("Button cancel clicked!"),this.smsVisible=!1}orderModal(){this.createOrder=!0}orderOk(){console.log("Button ok clicked!"),this.createOrder=!1}orderCancel(){console.log("Button cancel clicked!"),this.createOrder=!1}getAllAddress(){var s;this.userDataService.getAllAddressById(null===(s=this.user)||void 0===s?void 0:s._id).subscribe(n=>{this.addresses=n.data,console.log(this.addresses)},n=>{console.log(n.data)})}}return d.\u0275fac=function(s){return new(s||d)(e.Y36(m.c),e.Y36(_.M),e.Y36(T.K),e.Y36(i.W),e.Y36(o.p),e.Y36(l.x),e.Y36(r.dD),e.Y36(u.gz))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-customer-profile"]],decls:189,vars:56,consts:[[1,"page-header"],["routerLink","/admin/all-customers",1,"las","la-lg","la-long-arrow-alt-left"],[1,"table-samary"],["nzSize","small"],[1,"left_navbar"],[1,"inner_nav_header"],[1,"header_action"],[1,"las","la-angle-down"],["nz-menu","","nzTheme","light","nzMode","inline",1,"refund_list"],["nz-menu-item","",4,"ngFor","ngForOf"],[1,"customer_body_main",2,"background","#fff"],[1,"customer_details_header"],["nzSize","small",1,"customer_details_body"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzXs","nzLg"],[1,"customer_thumb"],[3,"nzText","nzColor"],["nz-image","","alt","",3,"nzSrc"],[1,"customer_rank"],[1,"las","la-crown",2,"color","#ff9900"],[3,"ngModel","ngModelChange",4,"ngIf"],[1,"customer_detils"],[2,"padding","0 10px"],[1,"las","la-lg","la-comment",3,"click"],[1,"las","la-lg","la-envelope",3,"click"],[1,"custoemr_type"],["nzSize","small","placeholder","Change Tag",3,"ngModel","ngModelChange",4,"ngIf"],["nz-col","","nzXs","24","nzLg","6"],[1,"customer_points"],["nz-button","","nzType","primary","disabled","",3,"click"],[1,"las","la-plus"],["nzSize","small",2,"background","#ecfff4"],[1,"dash_header"],[1,"las","la-coins"],[1,"dash_body"],[2,"color","orange"],[2,"color","green"],[2,"color","red"],[3,"nzGutter"],["nz-col","",1,"mb25",3,"nzXs","nzMd"],["nzSize","small","nzHoverable",""],[1,"las","la-box"],[1,"las","la-undo-alt"],[1,"las","la-wallet"],[1,"lar","la-star"],[2,"visibility","hidden"],["nz-col","",3,"nzXs","nzLg",4,"ngFor","ngForOf"],["nzTitle","Send a Message",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nzTitle","The first Modal",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],["nz-menu-item",""],[1,"left"],[1,"right"],[3,"ngModel","ngModelChange"],["nzSize","small","placeholder","Change Tag",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nzSize","small",3,"nzTitle","nzExtra"],[2,"margin","0"],[2,"width","15%"],["extraTemplate",""]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"h2"),e._UZ(2,"i",1),e._uU(3," Customer Details"),e.qZA()(),e.TgZ(4,"div",2)(5,"nz-card",3)(6,"nz-layout")(7,"nz-sider",4)(8,"div",5)(9,"div",6)(10,"a"),e._uU(11," All Customer "),e._UZ(12,"i",7),e.qZA()()(),e.TgZ(13,"ul",8),e.YNc(14,B,9,2,"li",9),e.qZA()(),e.TgZ(15,"nz-content",10)(16,"div",11)(17,"h4"),e._uU(18),e.qZA(),e.TgZ(19,"h5"),e._uU(20,"05 Jul 2022 | 11:30 PM"),e.qZA()(),e.TgZ(21,"nz-card",12)(22,"div",13)(23,"div",14)(24,"div",15)(25,"nz-ribbon",16),e._UZ(26,"img",17),e.qZA()(),e.TgZ(27,"div",18)(28,"p"),e._UZ(29,"i",19),e._uU(30),e.qZA(),e.YNc(31,L,1,1,"nz-switch",20),e.qZA()(),e.TgZ(32,"div",14)(33,"div",21)(34,"h3"),e._uU(35,"Customer Details"),e.qZA(),e.TgZ(36,"table")(37,"tbody")(38,"tr")(39,"td"),e._uU(40,"Name"),e.qZA(),e.TgZ(41,"td",22),e._uU(42,":"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA()(),e.TgZ(45,"tr")(46,"td"),e._uU(47,"Phone No"),e.qZA(),e.TgZ(48,"td",22),e._uU(49,":"),e.qZA(),e.TgZ(50,"td"),e._uU(51),e.TgZ(52,"i",23),e.NdJ("click",function(){return n.showSmsModal()}),e.qZA()()(),e.TgZ(53,"tr")(54,"td"),e._uU(55,"Email"),e.qZA(),e.TgZ(56,"td",22),e._uU(57,":"),e.qZA(),e.TgZ(58,"td"),e._uU(59),e.TgZ(60,"i",24),e.NdJ("click",function(){return n.showSmsModal()}),e.qZA()()(),e.TgZ(61,"tr")(62,"td"),e._uU(63,"Join Date"),e.qZA(),e.TgZ(64,"td",22),e._uU(65,":"),e.qZA(),e.TgZ(66,"td"),e._uU(67),e.ALo(68,"date"),e.qZA()(),e.TgZ(69,"tr")(70,"td"),e._uU(71,"Address"),e.qZA(),e.TgZ(72,"td",22),e._uU(73,":"),e.qZA(),e.TgZ(74,"td"),e._uU(75),e.qZA()(),e.TgZ(76,"tr")(77,"td"),e._uU(78),e.qZA(),e.TgZ(79,"td",22),e._uU(80,":"),e.qZA(),e.TgZ(81,"td",25),e.YNc(82,w,2,2,"nz-select",26),e.qZA()()()()()(),e.TgZ(83,"div",27)(84,"div",28)(85,"button",29),e.NdJ("click",function(){return n.orderModal()}),e._UZ(86,"i",30),e._uU(87," Create order "),e.qZA(),e.TgZ(88,"nz-card",31)(89,"div",32)(90,"h2"),e._UZ(91,"i",33),e._uU(92," Points"),e.qZA(),e.TgZ(93,"h2"),e._uU(94),e.qZA()(),e.TgZ(95,"div",34)(96,"h5"),e._uU(97,"Lifetime Points "),e.TgZ(98,"span",35),e._uU(99),e.qZA()(),e.TgZ(100,"h5"),e._uU(101,"Use Points "),e.TgZ(102,"span",36),e._uU(103),e.qZA()(),e.TgZ(104,"h5"),e._uU(105,"Pending Points "),e.TgZ(106,"span",37),e._uU(107),e.qZA()()()()()()()(),e.TgZ(108,"nz-row",38)(109,"div",39)(110,"nz-card",40)(111,"div",32)(112,"h2"),e._UZ(113,"i",41),e._uU(114," Order"),e.qZA(),e.TgZ(115,"h1"),e._uU(116),e.qZA()(),e.TgZ(117,"div",34)(118,"h5"),e._uU(119,"Items Pending "),e.TgZ(120,"span",35),e._uU(121),e.qZA()(),e.TgZ(122,"h5"),e._uU(123,"Items Confirmed "),e.TgZ(124,"span",36),e._uU(125),e.qZA()(),e.TgZ(126,"h5"),e._uU(127,"Items Canceled"),e.TgZ(128,"span",37),e._uU(129),e.qZA()(),e.TgZ(130,"h5"),e._uU(131,"Total Value "),e.TgZ(132,"span",36),e._uU(133),e.qZA()()()()(),e.TgZ(134,"div",39)(135,"nz-card",40)(136,"div",32)(137,"h2"),e._UZ(138,"i",42),e._uU(139," Return"),e.qZA(),e.TgZ(140,"h2"),e._uU(141),e.qZA()(),e._UZ(142,"div",34),e.qZA()(),e.TgZ(143,"div",39)(144,"nz-card",40)(145,"div",32)(146,"h2"),e._UZ(147,"i",43),e._uU(148," Refund"),e.qZA(),e.TgZ(149,"h1"),e._uU(150,"0"),e.qZA()(),e.TgZ(151,"div",34)(152,"h5"),e._uU(153,"Pending "),e.TgZ(154,"span",35),e._uU(155,"0"),e.qZA()(),e.TgZ(156,"h5"),e._uU(157,"Accepted "),e.TgZ(158,"span",36),e._uU(159,"0"),e.qZA()(),e.TgZ(160,"h5"),e._uU(161,"Cancelled "),e.TgZ(162,"span",37),e._uU(163,"0"),e.qZA()()()()(),e.TgZ(164,"div",39)(165,"nz-card",40)(166,"div",32)(167,"h2"),e._UZ(168,"i",44),e._uU(169," Reviews"),e.qZA(),e.TgZ(170,"h1"),e._uU(171,"0"),e.qZA()(),e.TgZ(172,"div",34)(173,"h5",45),e._uU(174,"sani vai dont use it"),e.qZA(),e.TgZ(175,"h5"),e._uU(176,"Reviews Done "),e.TgZ(177,"span",36),e._uU(178,"0"),e.qZA()(),e.TgZ(179,"h5"),e._uU(180,"Reviews Pending "),e.TgZ(181,"span",35),e._uU(182,"0"),e.qZA()()()()()(),e.TgZ(183,"div",13),e.YNc(184,J,25,13,"div",46),e.qZA()()()()(),e.TgZ(185,"nz-modal",47),e.NdJ("nzVisibleChange",function(t){return n.smsVisible=t})("nzOnCancel",function(){return n.smsCancel()})("nzOnOk",function(){return n.smsOk()}),e.YNc(186,F,5,0,"ng-container",48),e.qZA(),e.TgZ(187,"nz-modal",49),e.NdJ("nzVisibleChange",function(t){return n.createOrder=t})("nzOnCancel",function(){return n.orderCancel()})("nzOnOk",function(){return n.orderOk()}),e.YNc(188,Q,5,0,"ng-container",48),e.qZA()),2&s&&(e.xp6(14),e.Q6J("ngForOf",n.users),e.xp6(4),e.Oqu(null==n.user?null:n.user.fullName),e.xp6(4),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzXs",e.DdM(44,A))("nzLg",e.DdM(45,G)),e.xp6(2),e.Q6J("nzText",1===(null==n.user?null:n.user.status)?"Active":"Block")("nzColor",1===(null==n.user?null:n.user.status)?"green":"red"),e.xp6(1),e.Q6J("nzSrc",null!=n.user&&n.user.profileImg?null==n.user?null:n.user.profileImg:"/assets /images/placeholder/test.png"),e.xp6(4),e.hij(" ",n.assignedTag," "),e.xp6(1),e.Q6J("ngIf",n.user),e.xp6(1),e.Q6J("nzXs",e.DdM(46,A))("nzLg",e.DdM(47,j)),e.xp6(12),e.Oqu(null==n.user?null:n.user.fullName),e.xp6(7),e.hij(" +",null==n.user?null:n.user.phoneNo," "),e.xp6(8),e.hij(" ",null==n.user?null:n.user.email," "),e.xp6(8),e.Oqu(e.lcZ(68,42,null==n.user?null:n.user.createdAt)),e.xp6(8),e.Oqu(null==n.user?null:n.user.address),e.xp6(3),e.hij("Type (",null==n.user||null==n.user.customTag?null:n.user.customTag.tagname,")"),e.xp6(4),e.Q6J("ngIf",n.user),e.xp6(12),e.Oqu(null==n.user?null:n.user.points),e.xp6(5),e.Oqu(null==n.user?null:n.user.earnedPoints),e.xp6(4),e.Oqu(null==n.user?null:n.user.redeemedPoints),e.xp6(4),e.Oqu((null==n.user?null:n.user.earnedPoints)-(null==n.user?null:n.user.points)-(null==n.user?null:n.user.redeemedPoints)),e.xp6(1),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("nzXs",e.DdM(48,M))("nzMd",e.DdM(49,Z)),e.xp6(7),e.Oqu(n.totalOrders),e.xp6(5),e.Oqu(n.totalPendingItems),e.xp6(4),e.Oqu(n.totalConfirmedItems),e.xp6(4),e.Oqu(n.totalCanceledItems),e.xp6(4),e.hij(" ",n.totalOrderValue," Tk"),e.xp6(1),e.Q6J("nzXs",e.DdM(50,M))("nzMd",e.DdM(51,Z)),e.xp6(7),e.hij("",n.returnPercent,"%"),e.xp6(2),e.Q6J("nzXs",e.DdM(52,M))("nzMd",e.DdM(53,Z)),e.xp6(21),e.Q6J("nzXs",e.DdM(54,M))("nzMd",e.DdM(55,Z)),e.xp6(19),e.Q6J("nzGutter",16),e.xp6(1),e.Q6J("ngForOf",n.addresses),e.xp6(1),e.Q6J("nzVisible",n.smsVisible),e.xp6(2),e.Q6J("nzVisible",n.createOrder))},dependencies:[g.sg,g.O5,u.rH,c.JJ,c.On,C.du,C.Hf,P.hw,P.OK,P.t7,x.ix,S.w,q.dQ,U.wO,U.r9,E.F9,y.Ip,y.Vq,v.Uo,v._C,v.p0,v.$Z,I.t3,I.SK,R.Ie,D.bd,N.i,g.uU],styles:[".mb25[_ngcontent-%COMP%]{margin-bottom:15px!important}.dash_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px!important}.dash_header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#585858;display:flex;align-items:center}.dash_header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;margin-right:10px!important}.dash_body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;font-size:14px;line-height:20px;color:#707070}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:30px 0 15px}.page-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]{display:flex;align-items:center}.page-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;margin-left:25px}.page-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]   .create_btn[_ngcontent-%COMP%]{background:#1b75bb;color:#fff;border:1px solid #1b75bb;padding:10px 20px;transition:.3s;border-radius:3px}.page-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]   .create_btn[_ngcontent-%COMP%]:hover{background:#8bc53f;border:1px solid #8bc53f}.refunt-tab[_ngcontent-%COMP%]{min-height:80vh;margin-bottom:30px}.tab-list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-direction:row;min-width:200px;text-align:left;border-bottom:1px solid #ddd;margin-left:-22px;padding:0 0 10px}.tab-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px}.tab-list[_ngcontent-%COMP%]   .status-details[_ngcontent-%COMP%]{text-align:right;font-size:14px}.tab-list[_ngcontent-%COMP%]   .status-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:12px}.tab-list[_ngcontent-%COMP%]   .status-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}.ant-tabs-nav-list[_ngcontent-%COMP%]{padding:0}.header_action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.left_navbar[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #ddd;min-width:230px!important}.inner_nav_header[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #f0f0f0}.inner_nav_header[_ngcontent-%COMP%]   .header_action[_ngcontent-%COMP%]{margin-bottom:15px}.refund_list[_ngcontent-%COMP%]{padding:0;margin:0}.refund_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;padding:5px 10px!important;justify-content:space-between;align-items:center;text-align:left;border-bottom:1px solid #f0f0f0;height:unset}.refund_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.refund_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.refund_list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#1b75bb}.customer_body_main[_ngcontent-%COMP%]{padding:0 15px}.customer_details_header[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:8px 0}.customer_details_header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}.customer_details_header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:12px;color:#585858}.customer_details_body[_ngcontent-%COMP%]{margin:15px 0}.customer_thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.customer_rank[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-top:10px}.customer_rank[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.customer_detils[_ngcontent-%COMP%]{margin-left:15px}.customer_detils[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-transform:uppercase;margin-bottom:15px!important}.customer_detils[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{color:#585858;line-height:25px}.customer_detils[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{min-width:80px}.customer_points[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;justify-content:space-between;height:100%}.customer_points[_ngcontent-%COMP%]   nz-card[_ngcontent-%COMP%]{width:100%;text-align:center}.customer_points[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.custoemr_type[_ngcontent-%COMP%]   nz-select.ant-select[_ngcontent-%COMP%]{border-color:#fff!important}@media (max-width: 768px){.customer_points[_ngcontent-%COMP%]   nz-card[_ngcontent-%COMP%]{margin:25px 0}.table-samary[_ngcontent-%COMP%]   nz-layout[_ngcontent-%COMP%]{max-height:unset;flex-direction:column}.main-layout[_ngcontent-%COMP%]{flex-direction:column!important}.left_navbar[_ngcontent-%COMP%]{min-width:100%!important;width:100%!important;border:none}.customer_body_main[_ngcontent-%COMP%]{width:100%!important;padding:0}.customer_details_header[_ngcontent-%COMP%]{padding:0}}"]}),d})()}];let W=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[u.Bz.forChild(Y),u.Bz]}),d})();var H=a(32368),K=a(96120);let X=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[g.ez,W,p.q,H.rP,c.UX,c.u5,K.P]}),d})()},31913:(b,z,a)=>{a.d(z,{i:()=>p});var p=(()=>{return(g=p||(p={}))[g.PENDING=0]="PENDING",g[g.CANCEL=1]="CANCEL",g[g.CONFIRM=2]="CONFIRM",g[g.PARTIAL_SHIPPING=3]="PARTIAL_SHIPPING",g[g.SHIPPING=4]="SHIPPING",g[g.DELIVERED=5]="DELIVERED",g[g.RETURNING=6]="RETURNING",g[g.RETURNED=7]="RETURNED",g[g.PARTIAL_RETURNED=8]="PARTIAL_RETURNED",g[g.REFUND=9]="REFUND",g[g.EDIT=10]="EDIT",p;var g})()},68132:(b,z,a)=>{a.d(z,{p:()=>m});var p=a(40520),g=a(92340),O=a(5e3);const e=g.N.apiBaseLink+"/api/order/";let m=(()=>{class _{constructor(i){this.httpClient=i}editOrder(i){return this.httpClient.post(e+"edit-order",i)}placeOrder(i){return this.httpClient.post(e+"place-order",i)}updateOrder(i){return this.httpClient.post(e+"update-order",i)}placeOrderRequest(i){return this.httpClient.post(e+"place-order-request",i)}placeTempOrder(i){return this.httpClient.post(e+"place-temp-order",i)}updateOrderSessionKey(i,o){return this.httpClient.post(e+"update-session-key/"+i+"/"+o,{})}getAllOrdersByUser(i,o,l,r){let u=new p.LE;return u=u.append("q",i),u=u.append("status",r),o&&(u=u.append("pageSize",o.pageSize),u=u.append("currentPage",o.currentPage)),this.httpClient.get(e+"get-all-orders-by-user",{params:u})}getAllOrdersByUserId(i){return this.httpClient.get(e+"get-all-orders-by-userId/"+i)}getAllCanceledOrdersByUser(i,o,l){return this.httpClient.get(e+"get-all-canceled-orders-by-user")}getAllOrdersByUserOrderId(i,o){let l=new p.LE;return i&&(console.log("param id ",i),l=l.append("id",i)),o&&(l=l.append("select",o)),this.httpClient.get(e+"get-orders-by-user-orderId",{params:l})}getAllOrdersofyUserByAdmin(i,o,l){let r=new p.LE;return l&&(r=r.append("userId",l)),i?(r=r.append("pageSize",i.pageSize),r=r.append("page",i.currentPage),o&&(r=r.append("select",o)),this.httpClient.get(e+"get-all-orders-of-user-by-admin",{params:r})):(o&&(r=r.append("select",o)),this.httpClient.get(e+"get-all-orders-of-user-by-admin",{params:r}))}getOrderDetails(i){return this.httpClient.get(e+"get-order-details/"+i)}getOrderDetailsByOrderId(i){return this.httpClient.get(e+"get-order-details-by-orderId/"+i)}getrequestOrderDetails(i){return this.httpClient.get(e+"get-request-order-details/"+i)}cancelOrderByUser(i){return this.httpClient.put(e+"cancel-order-by-user/"+i,{})}deleteOrderByAdmin(i){return this.httpClient.delete(e+"delete-order-by-admin/"+i)}getAllTransactionByUser(i,o){let l=new p.LE;return i?(l=l.append("pageSize",i.pageSize),l=l.append("page",i.currentPage),o&&(l=l.append("select",o)),this.httpClient.get(e+"get-all-transactions-by-user",{params:l})):(o&&(l=l.append("select",o)),this.httpClient.get(e+"get-all-transactions-by-user",{params:l}))}getAllOrdersByAdmin(i,o,l,r){return this.httpClient.post(e+"get-all-orders-by-admin",{paginate:i,sort:o,filter:l,select:r})}getOrdersBySearch(i,o,l){let r=new p.LE;return r=r.append("q",i),o&&(r=r.append("pageSize",o.pageSize),r=r.append("currentPage",o.currentPage)),this.httpClient.post(e+"get-order-by-search",{filter:l},{params:r})}getSelectedOrderDetails(i){return this.httpClient.post(e+"get-selected-order-details",{selectedIds:i})}getAllOrdersBySku(i){return this.httpClient.get(e+"get-all-orders-by-sku/"+i)}changeOrderStatus(i){return this.httpClient.put(e+"change-order-status",i)}getAllTransactionByAdmin(i,o){let l=new p.LE;return i?(l=l.append("pageSize",i.pageSize),l=l.append("page",i.currentPage),o&&(l=l.append("select",o)),this.httpClient.get(e+"get-all-transaction-by-admin",{params:l})):(o&&(l=l.append("select",o)),this.httpClient.get(e+"get-all-transaction-by-admin",{params:l}))}testSslSmsApi(){return this.httpClient.get(e+"sent-test-ssl-message")}updateOrderById(i){return this.httpClient.put(e+"update-order-by-id",i)}updateMultipleOrderById(i){return this.httpClient.post(e+"update-multiple-order-by-id",i)}updateRequestOrderById(i){return this.httpClient.put(e+"update-request-order-by-id",i)}payPayment(i){return this.httpClient.post(e+"pay-payment",i)}sendNotification(i){return this.httpClient.post(e+"confirm-notification",i)}addToOrderTimeline(i,o){return this.httpClient.post(e+"add-to-order-timeline",{data:i,orderId:o})}updateTag(i,o){return this.httpClient.post(e+"update-tag",{orderId:i,tag:o})}updateDeliveryAddress(i,o){return this.httpClient.post(e+"update-delivery-address",{orderId:i,address:o})}setFilterVariable(i){this.filterVariable=i}getFilterVariable(){let i=this.filterVariable;return this.clearFilterVariable(),i}clearFilterVariable(){this.filterVariable=void 0}}return _.\u0275fac=function(i){return new(i||_)(O.LFG(p.eN))},_.\u0275prov=O.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},5944:(b,z,a)=>{a.d(z,{M:()=>i});var p=a(40520),g=a(92340),O=a(88493),e=a(5e3);const m=g.N.apiBaseLink+"/api/user/",_=g.N.apiBaseLink+"/api/cart/",T=g.N.apiBaseLink+"/api/wishlist/";let i=(()=>{class o{constructor(r){this.httpClient=r}getLoggedInUserInfo(r){if(r){let u=new p.LE;return u=u.append("select",r),this.httpClient.get(m+"logged-in-user-data",{params:u})}return this.httpClient.get(m+"logged-in-user-data")}editLoginUserInfo(r){return this.httpClient.put(m+"edit-logged-in-user-data",r)}editAddress(r){return this.httpClient.put(m+"edit-address",r)}addCartProductToLocalStorage(r){const u=JSON.parse(localStorage.getItem(O.w.cartsProduct));let c;null===u?(c=[],c.push(r)):(c=u,-1===c.findIndex(P=>P._id===r._id)&&c.push(r)),localStorage.setItem(O.w.cartsProduct,JSON.stringify(c))}getCartProductFromLocalStorage(){const r=localStorage.getItem(O.w.cartsProduct);return null===r?[]:JSON.parse(r)}deleteCartProductFromLocalStorage(r){const c=JSON.parse(localStorage.getItem(O.w.cartsProduct)).filter(C=>C._id!==r);localStorage.setItem(O.w.cartsProduct,JSON.stringify(c))}getAllAddress(r,u){let c=new p.LE;return r?(c=c.append("pageSize",r.pageSize),c=c.append("page",r.currentPage),u&&(c=c.append("select",u)),this.httpClient.get(m+"get-addresses",{params:c})):(u&&(c=c.append("select",u)),this.httpClient.get(m+"get-addresses",{params:c}))}getAllAddressById(r){return this.httpClient.get(m+"get-addresses-by-id/"+r)}addToAddress(r){return this.httpClient.post(m+"add-address",r)}deleteAddress(r){return this.httpClient.delete(m+"delete-address-by-id/"+r)}getUsersBySearch(r,u,c){let C=new p.LE;return C=C.append("q",r),u&&(C=C.append("pageSize",u.pageSize),C=C.append("currentPage",u.currentPage)),this.httpClient.post(m+"get-users-by-search",{filter:c},{params:C})}addItemToUserCart(r){return console.log(r),this.httpClient.post(_+"add-to-cart",r)}addSingleItemToCart(r){return this.httpClient.post(_+"add-to-cart",r)}getCartItemList(){return this.httpClient.get(_+"get-cart-items-by-user")}incrementCartQuantity(r){return this.httpClient.post(_+"increment-cart-item-quantity",{cartId:r})}decrementCartQuantity(r){return this.httpClient.post(_+"decrement-cart-item-quantity",{cartId:r})}removeCartItem(r){return this.httpClient.delete(_+"remove-cart-item/"+r)}countCartItem(){return this.httpClient.get(_+"cart-item-count")}getCartStatusOnBook(r){return this.httpClient.get(_+"get-status-book-on-cart/"+r)}getCustomerLists(r,u,c){let C=new p.LE;return c&&(C=C.append("select",c)),this.httpClient.post(m+"get-all-user-lists",{paginate:r,filter:u},{params:C})}getUserByUserID(r){return this.httpClient.get(m+"get-user-by-user-id/"+r)}editUserAccess(r,u){return this.httpClient.put(m+"edit-user-access/"+r,u)}getSearchUsers(r,u,c){let P=new p.LE;return P=P.append("q",r),P=P.append("pageSize",u.pageSize),P=P.append("currentPage",u.currentPage),this.httpClient.post(m+"get-users-by-search",{filter:c},{params:P})}addSingleItemToWishlist(r){return this.httpClient.post(T+"add-to-wishlist",r)}getWishlistItemByUser(){return this.httpClient.get(T+"get-wishlist-items-by-user")}checkStatusInWishlistWithBookId(r){return this.httpClient.get(T+"get-status-of-product-in-wishlist/"+r)}getBooksFromWishlist(){return this.httpClient.get(T+"get-all-product-from-wishlist")}removeWishlistById(r){return this.httpClient.delete(T+"delete-wishlist-by-id/"+r)}addUser(r){return this.httpClient.post(m+"add-user",r)}editUser(r){return this.httpClient.put(m+"edit-user",r)}}return o.\u0275fac=function(r){return new(r||o)(e.LFG(p.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);