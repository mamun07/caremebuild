"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[2099],{72099:(S,u,s)=>{s.r(u),s.d(u,{ReviewsModule:()=>b});var g=s(90898),h=s(69808),f=s(60515),m=s(94813),v=s(78372),C=s(71884),T=s(63900),t=s(5e3),Z=s(29264),r=s(93075),O=s(11047),d=s(90868),l=s(50939),x=s(77484);const z=["searchForm"];function A(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"span"),t._uU(5),t.qZA(),t.TgZ(6,"div",12),t._uU(7),t.qZA()(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16,"ACTIVE"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.rating),t.xp6(3),t.hij(" ",e.message," "),t.xp6(2),t.AsE(" - ",e.user.fullName?e.user.fullName:e.user.phoneNo," | ",e.productType," "),t.xp6(2),t.Oqu(t.xi3(10,7,e.date,"short")),t.xp6(3),t.Oqu(e.sku),t.xp6(2),t.Oqu(e.orderNo)}}function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-tab",8),t.NdJ("nzClick",function(){const c=t.CHM(e).$implicit,U=t.oxw();return t.KtG(U.onTabSelect(c))}),t.TgZ(1,"nz-table",9,10)(3,"thead")(4,"tr")(5,"th"),t._uU(6,"Rating"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Reviews"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Date & Time"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"SKU"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Order No"),t.qZA(),t.TgZ(15,"th"),t._uU(16,"Status"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,A,17,10,"tr",11),t.qZA()()()}if(2&n){const e=i.$implicit,a=t.MAs(2),o=t.oxw();t.Q6J("nzTitle",e),t.xp6(1),t.Q6J("nzData",o.listOfParentData)("nzPageSize",50),t.xp6(17),t.Q6J("ngForOf",a.data)}}function R(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.onClickSearchArea(o))}),t.TgZ(1,"form",14,15)(3,"input",16,17),t.NdJ("focus",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.handleFocus(o))}),t.qZA()()()}}let y=(()=>{class n{constructor(e){this.reviewService=e,this.tabs=["All Reviews","To Reviews"],this.listOfParentData=[],this.value=3}ngOnInit(){this.getAllReviews()}getAllReviews(){this.reviewService.getAll().subscribe(e=>{this.listOfParentData=e.data,this.holdPrevData=this.listOfParentData},e=>{console.log(e)})}onTabSelect(e){console.log(e)}onClickSearchArea(e){e.stopPropagation()}handleFocus(e){this.searchInput.nativeElement.focus(),!this.isFocused&&(this.searchReviews.length>0&&this.setPanelState(e),this.isFocused=!0)}setPanelState(e){e&&e.stopPropagation(),this.isOpen=!1,this.handleOpen()}handleOpen(){this.isOpen||this.isOpen&&!this.isLoading||this.searchReviews.length>0&&(this.isOpen=!0,this.overlay=!0)}handleOutsideClick(){!this.isOpen||(this.isOpen=!1,this.overlay=!1,this.isFocused=!1)}handleCloseOnly(){this.isOpen?(this.isOpen=!1,this.overlay=!1,this.isFocused=!1):this.isFocused=!1}handleCloseAndClear(){this.isOpen?(this.isOpen=!1,this.overlay=!1,this.searchReviews=[],this.isFocused=!1):this.isFocused=!1}ngAfterViewInit(){this.searchForm.valueChanges.pipe((0,m.j)("searchTerm"),(0,v.b)(200),(0,C.x)(),(0,T.w)(a=>(this.searchQuery=a.trim(),this.searchQuery?this.reviewService.getSearchData(this.searchQuery):(console.log(this.listOfParentData),this.listOfParentData=this.holdPrevData,this.searchQuery=null,f.E)))).subscribe(a=>{this.searchReviews=a.data,this.listOfParentData=this.searchReviews},()=>{this.isLoading=!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Z.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reviews"]],viewQuery:function(e,a){if(1&e&&t.Gf(z,5),2&e){let o;t.iGM(o=t.CRH())&&(a.searchForm=o.first)}},decls:14,vars:2,consts:[[1,"page-header"],[1,"header-action"],["type","button"],[1,"table-samary"],["nzSize","small"],[3,"nzTabBarExtraContent"],[3,"nzTitle","nzClick",4,"ngFor","ngForOf"],["extraTemplate",""],[3,"nzTitle","nzClick"],["nzSize","small",3,"nzData","nzPageSize"],["table",""],[4,"ngFor","ngForOf"],[2,"font-weight","600"],[1,"vendor-search",3,"click"],[2,"width","100%"],["searchForm","ngForm"],["nz-input","","id","searchInput","name","searchTerm","autocomplete","off","ngModel","","type","text","placeholder","Search",3,"focus"],["searchInput",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"All Refund"),t.qZA(),t.TgZ(3,"div",1)(4,"button",2),t._uU(5,"Export"),t.qZA(),t.TgZ(6,"button",2),t._uU(7,"Import"),t.qZA()()(),t.TgZ(8,"div",3)(9,"nz-card",4)(10,"nz-tabset",5),t.YNc(11,w,19,4,"nz-tab",6),t.qZA(),t.YNc(12,R,5,0,"ng-template",null,7,t.W1O),t.qZA()()),2&e){const o=t.MAs(13);t.xp6(10),t.Q6J("nzTabBarExtraContent",o),t.xp6(1),t.Q6J("ngForOf",a.tabs)}},dependencies:[h.sg,r._Y,r.Fj,r.JJ,r.JL,r.On,r.F,O.Zp,d.xH,d.xw,l.N8,l.Uo,l._C,l.Om,l.p0,l.$Z,x.bd,h.uU],styles:[".page-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:30px 0 15px}.page-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]{display:flex;align-items:center}.page-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:transparent;margin-left:25px}.table-samary[_ngcontent-%COMP%]{margin-bottom:30px}.vendor-search[_ngcontent-%COMP%]{max-width:400px;width:100%;display:flex;align-items:center;justify-content:center}"]}),n})();var p=s(99826);const F=[{path:"",component:y}];let P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(F),p.Bz]}),n})();var M=s(47614);let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.ez,P,g.q,M.P]}),n})()}}]);